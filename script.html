<script>
	function success() {
      let form = document.getElementById("form")
      form.innerText = "Done! Good Job!"
    }
    
    function submitData(data) {
      google.script.run.withSuccessHandler(success).insertData(data)
    }

    let submitButton = document.getElementById("submit")
    submitButton.addEventListener('click', (e)=> {
      console.log(e)

      let inputs = [
        "weight",
        "steps",
        "push-ups",
        "pull-ups",
        "waist",
        "belly",
        "bridges",
        "squats"
      ]

      let data = {}

      inputs.forEach(id => {
        let element = document.getElementById(id);
        let value = element.value
        data[id] = value
      })

      let form = document.getElementById("form")
      form.innerText = "Thanks! Awaiting response..."

      let now = new Date();

      data["day"] = now.getDate()
      data["month"] = now.getMonth() + 1
      data["year"] = now.getFullYear()

      

      console.log(data);
      submitData(data);
    })

    

</script>